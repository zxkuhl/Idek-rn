<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payload Generator2</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        form { margin-bottom: 20px; }
        label { display: block; margin-top: 10px; }
        input, textarea, select { width: 100%; padding: 8px; margin-top: 5px; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; }
        button:hover { background: #0056b3; }
        #response { margin-top: 20px; padding: 10px; border: 1px solid #ddd; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <h1>Payload Generator</h1>
    <p>Select a type from the dropdown to generate and send payloads like Discord webhooks with embeds, or add more types as needed.</p>

    <label for="type">Select Type:</label>
    <select id="type">
        <option value="">-- Choose --</option>
        <option value="discord-webhook">Discord Webhook with Embed</option>
        <option value="custom-script">Custom Script</option> <!-- New Option -->
    </select>

    <!-- Discord Webhook Form -->
    <form id="discord-webhook-form" class="hidden">
        <h2>Discord Webhook</h2>
        <label for="webhook-url">Webhook URL:</label>
        <input type="url" id="webhook-url" required placeholder="https://discord.com/api/webhooks/...">

        <label for="username">Username (optional):</label>
        <input type="text" id="username" placeholder="Bot Name">

        <label for="avatar-url">Avatar URL (optional):</label>
        <input type="url" id="avatar-url" placeholder="https://example.com/avatar.png">

        <label for="content">Message Content (optional):</label>
        <textarea id="content" placeholder="Plain text message"></textarea>

        <h3>Embed (optional)</h3>
        <label for="embed-title">Title:</label>
        <input type="text" id="embed-title">

        <label for="embed-description">Description:</label>
        <textarea id="embed-description"></textarea>

        <label for="embed-url">URL:</label>
        <input type="url" id="embed-url">

        <label for="embed-color">Color (hex, e.g., #FF0000):</label>
        <input type="text" id="embed-color" placeholder="#5865F2">

        <label for="embed-author-name">Author Name:</label>
        <input type="text" id="embed-author-name">

        <label for="embed-author-url">Author URL:</label>
        <input type="url" id="embed-author-url">

        <label for="embed-footer-text">Footer Text:</label>
        <input type="text" id="embed-footer-text">

        <button type="button" onclick="sendDiscordWebhook()">Send</button>
    </form>

    <!-- Custom Script Form -->
    <form id="custom-script-form" class="hidden">
        <h2>Custom Script</h2>
        <label for="custom-code">Enter your JavaScript code:</label>
        <textarea id="custom-code" placeholder="Write your code here..." style="height:200px;"></textarea>
        <button type="button" onclick="runCustomScript()">Run Script</button>
    </form>

    <div id="response"></div>

    <script>
        const typeSelect = document.getElementById('type');
        const forms = document.querySelectorAll('form');

        // Show/hide forms based on dropdown selection
        typeSelect.addEventListener('change', (e) => {
            forms.forEach(form => form.classList.add('hidden'));
            const selectedForm = document.getElementById(`${e.target.value}-form`);
            if (selectedForm) selectedForm.classList.remove('hidden');
        });

        // Discord webhook sender
        async function sendDiscordWebhook() {
            const webhookUrl = document.getElementById('webhook-url').value;
            const username = document.getElementById('username').value;
            const avatarUrl = document.getElementById('avatar-url').value;
            const content = document.getElementById('content').value;
            const title = document.getElementById('embed-title').value;
            const description = document.getElementById('embed-description').value;
            const url = document.getElementById('embed-url').value;
            const color = parseInt(document.getElementById('embed-color').value.replace('#', ''), 16) || 0;
            const authorName = document.getElementById('embed-author-name').value;
            const authorUrl = document.getElementById('embed-author-url').value;
            const footerText = document.getElementById('embed-footer-text').value;

            const payload = {
                username: username || undefined,
                avatar_url: avatarUrl || undefined,
                content: content || undefined,
                embeds: title || description || url || authorName || footerText ? [{
                    title: title || undefined,
                    description: description || undefined,
                    url: url || undefined,
                    color: color,
                    author: authorName ? { name: authorName, url: authorUrl || undefined } : undefined,
                    footer: footerText ? { text: footerText } : undefined
                }] : undefined
            };

            try {
                const response = await fetch(webhookUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (response.ok) {
                    document.getElementById('response').innerText = 'Success! Message sent.';
                } else {
                    document.getElementById('response').innerText = `Error: ${response.statusText}`;
                }
            } catch (error) {
                document.getElementById('response').innerText = `Error: ${error.message}`;
            }
        }

        // Custom script runner
        function runCustomScript() {
            const code = document.getElementById('custom-code').value;
            try {
                new Function(code)();
                document.getElementById('response').innerText = 'Custom script executed successfully!';
            } catch (error) {
                document.getElementById('response').innerText = `Error: ${error.message}`;
            }
        }
    </script>
</body>
</html>
